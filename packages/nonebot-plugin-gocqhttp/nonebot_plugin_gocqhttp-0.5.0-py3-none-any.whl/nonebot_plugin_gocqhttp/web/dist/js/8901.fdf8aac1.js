"use strict";(self["webpackChunknonebot_plugin_gocqhttp_frontend"]=self["webpackChunknonebot_plugin_gocqhttp_frontend"]||[]).push([[8901],{2917:(e,n,t)=>{t.d(n,{Z:()=>c});var a=t(83673),l=t(61959),o=t(19966);const i=(0,a.aZ)({props:{modelValue:null,language:null,theme:null},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,i=(0,l.iH)();let u;return(0,a.bv)((()=>{u=o.editor.create(i.value,{value:t.modelValue,language:t.language,theme:t.theme}),u.onDidChangeModelContent((()=>{const e=u.getValue();n("update:modelValue",e)}))})),(0,a.YP)((()=>t.theme),(e=>{u.updateOptions({theme:e})})),(e,n)=>((0,a.wg)(),(0,a.iD)("div",{ref_key:"dom",ref:i},null,512))}}),u=i,c=u},70002:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var a=t(83673),l=t(61959),o=t(48825),i=t(2917),u=t(11768),c=function(e,n,t,a){function l(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,o){function i(e){try{c(a.next(e))}catch(n){o(n)}}function u(e){try{c(a["throw"](e))}catch(n){o(n)}}function c(e){e.done?t(e.value):l(e.value).then(i,u)}c((a=a.apply(e,n||[])).next())}))};const r=(0,a._)("div",{class:"text-h5"},"编辑配置文件",-1),d=(0,a.aZ)({props:{uin:null},setup(e){const n=e,t=(0,o.Z)(),d=(0,l.iH)(),s=(0,l.iH)(!0);function f(){return c(this,void 0,void 0,(function*(){try{s.value=!0;const{data:e}=yield u.api.accountConfigReadApiUinConfigGet(n.uin);d.value=e.content}catch(e){d.value=void 0}finally{s.value=!1}}))}function v(){return c(this,void 0,void 0,(function*(){if(d.value)try{s.value=!0,yield u.api.accountConfigWriteApiUinConfigPatch(n.uin,{content:d.value})}catch(e){t.notify({message:"配置文件保存失败",color:"negative"})}finally{s.value=!1}}))}function p(){return c(this,void 0,void 0,(function*(){try{s.value=!0,yield u.api.accountConfigDeleteApiUinConfigDelete(n.uin)}catch(e){t.notify({message:"配置文件删除失败",color:"negative"})}finally{s.value=!1}}))}return(0,a.bv)(f),(e,n)=>{const o=(0,a.up)("q-btn"),u=(0,a.up)("q-card-section"),c=(0,a.up)("q-separator"),m=(0,a.up)("q-card-actions"),g=(0,a.up)("q-inner-loading"),h=(0,a.up)("q-card"),y=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(y,{class:"row q-pa-md justify-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{class:"shadow col-12",style:{height:"calc(100vh - 5rem)"}},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"row justify-start items-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{onClick:e.$router.back,flat:"",label:"返回",color:"grey",icon:"arrow_back"},null,8,["onClick"]),r])),_:1}),(0,a.Wm)(c),(0,a.Wm)(m,{class:"q-gutter-md q-mx-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{flat:"",onClick:v,color:"primary",label:"提交修改",icon:"save"}),(0,a.Wm)(o,{flat:"",onClick:f,color:"secondary",label:"重新加载配置文件",icon:"refresh"}),(0,a.Wm)(o,{flat:"",onClick:p,color:"negative",label:"删除并重新生成配置文件",icon:"delete"})])),_:1}),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>["undefined"!==typeof d.value?((0,a.wg)(),(0,a.j4)(i.Z,{key:0,modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=e=>d.value=e),language:"yaml",style:{height:"70vh"},theme:(0,l.SU)(t).dark.isActive?"vs-dark":"vs"},null,8,["modelValue","theme"])):(0,a.kq)("",!0),(0,a.Wm)(g,{showing:s.value},null,8,["showing"])])),_:1})])),_:1})])),_:1})}}});var s=t(24379),f=t(10151),v=t(25589),p=t(48240),m=t(65869),g=t(99367),h=t(66941),y=t(7518),w=t.n(y);const C=d,k=C;w()(d,"components",{QPage:s.Z,QCard:f.Z,QCardSection:v.Z,QBtn:p.Z,QSeparator:m.Z,QCardActions:g.Z,QInnerLoading:h.Z})}}]);