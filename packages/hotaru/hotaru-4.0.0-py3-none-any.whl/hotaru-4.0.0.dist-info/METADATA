Metadata-Version: 2.1
Name: hotaru
Version: 4.0.0
Summary: High performance Optimizer to extract spike Timing And cell location from calcium imaging data via lineaR impUlse
Home-page: https://github.com/tk2lab/HOTARU
License: GPL-3.0-only
Keywords: Calcium Imaging,Spike Detection,Cell Extraction
Author: TAKEKAWA Takashi
Author-email: takekawa@tk2lab.org
Requires-Python: >=3.8,<3.11
Classifier: License :: OSI Approved :: GNU General Public License v3 (GPLv3)
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Requires-Dist: click (>=8.0,<9.0)
Requires-Dist: ffmpeg-python (>=0.2,<0.3)
Requires-Dist: matplotlib (>=3.5,<4.0)
Requires-Dist: pandas (>=1.4,<2.0)
Requires-Dist: scipy (>=1.8,<2.0)
Requires-Dist: seaborn (>=0.11.2,<0.12.0)
Requires-Dist: tensorflow (>=2.8,<3.0)
Requires-Dist: tifffile (>=2022.3,<2023.0)
Project-URL: Repository, https://github.com/tk2lab/HOTARU
Description-Content-Type: text/markdown

# HOTARU

High performance Optimizer to extract spike Timing And cell location from calcium imaging data via lineaR impUlse

### Author
TAKEKAWA Takashi <takekawa@tk2lab.org>

### Reference
- Takekawa., T, et. al.,
  HOTARU: Automatic sorting system for large scale calcium imaging data,
  bioRxiv, preparing (2022).
- Takekawa., T, et. al.,
  Automatic sorting system for large scale calcium imaging data,
  bioRxiv, https://doi.org/10.1101/215145 (2017).


## Install

### Require
- python >= 3.8
- tensorflow >= 2.8

### Install Procedure (using venv)
- Create venv environment for hotaru
  - `python3.x -m venv hotaru`
- Activate hotaru environment
  - `source hotaru/bin/activate`
- Install hotaru
  - `pip install hotaru`


## Usage

### Config and Prepare
- Move to your workspace
  `cd work`
- Edit config file `hotaru.ini`
``` hotaru.ini
[DEFAULT]
imgs_path = imgs.tif
mask_type = 0.pad
hz = 20.0
tau_rise = 0.08
tau_fall = 0.16

[main]
tag = r20

[r20]
radius_max = 20.0
```

### Check Cell Radius Stats
- Trial
```hotaru trial```
- Check peaks stats
  [see hotaru/figure/r20_trial.pdf]
- Change `radius_max` if need
``` hotaru.ini
[DEFAULT]
imgs_path = imgs.tif
mask_type = 0.pad
hz = 20.0
tau_rise = 0.08
tau_fall = 0.16

[main]
tag = r10

[r10]
radius_max = 10.0

[r20]
radius_max = 20.0
```

### Apply
- Run
```hotaru auto```
  
### Check Resutls
- see `hotaru/figure/r10_curr.pdf` and `hotaru/output` directory

