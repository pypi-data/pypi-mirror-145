(self.webpackChunkpyesasky=self.webpackChunkpyesasky||[]).push([[480,209],{209:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ESASkyJSModel:()=>l,ESASkyJSView:()=>o,default:()=>n,version:()=>a});var i=s(449),d=s(886);class l extends i.DOMWidgetModel{initialize(e,t){super.initialize(e,t)}defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ESASkyJSModel",_view_name:"ESASkyJSView",_model_module:"pyesasky",_view_module:"pyesasky",view_module_ids:[],_view_module_version:"1.8.1",_model_module_version:"1.8.1"})}}class o extends i.DOMWidgetView{render(){var e=document.createElement("div");this.base_url=d.PageConfig.getBaseUrl(),this.base_url=d.PageConfig.getBaseUrl(),this.modelId="esaskyFrame"+Math.random().toString(36).substr(2,10);var t=this.model.get("_view_module_ids");t.push(this.modelId),this.model.set("_view_module_ids",t);var s=this.model.get("_view_language");console.log(s),e.innerHTML="<iframe id="+this.modelId+" width='100%' height='800px' style='border: none;' src='https://sky.esa.int?hide_welcome=true&hide_sci_switch=true&hide_banner_info=true'</iframe>",this.el.appendChild(e),this.el.style.height="auto",this.el.style.minHeight="800px",this.model.on("msg:custom",this.handle_custom_message,this),this.listenTo(this.model,"change:view_height",this.height_changed),this.oldMsgId=null,this.oldMsgIdToFront=null;var i=this;window.addEventListener("message",(function(e){var t=e.data;console.log("Back inside pyesasky.js"),i.oldMsgId!=t.msgId&&(i.oldMsgId=t.msgId,i.model.send(t,null,null))}))}height_changed(){console.log("Changing view height");var e=this.model.get("view_height");let t=this.model.get("_view_module_ids");for(var s=t.length-1;s>=0;s--){let i=t[s];if(null!=document.getElementById(i)){let t=document.getElementById(i);t.style.height=e,t.parentElement.parentElement.style.height=e;break}}}handle_custom_message(e){let t,s=this.model.get("_view_module_ids");for(var i=s.length-1;i>=0&&(t=s[i],null==document.getElementById(t));i--);this.oldMsgIdToFront!=e.msgId&&this.modelId==t&&(this.oldMsgIdToFront=e.msgId,console.log("Inside pyesasky.js"),document.getElementById(this.modelId).contentWindow.postMessage(e,"https://sky.esa.int"))}}const n={id:"pyesasky:plugin",autoStart:!0,activate:(e,t)=>{console.log("JupyterLab extension pyesasky is activated!")}},a=s(306).i8},480:(e,t,s)=>{"use strict";let i=s(209),d=s(449);e.exports={id:"pyesasky",requires:[d.IJupyterWidgetRegistry],activate:function(e,t){t.registerWidget({name:"pyesasky",version:i.version,exports:i})},autoStart:!0}},306:e=>{"use strict";e.exports={i8:"1.8.1-beta0"}}}]);